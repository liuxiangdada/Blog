## æ•°æ®

### å­—ç¬¦ä¸²

1.æˆ‘ä»¬éƒ½çŸ¥é“åœ¨`ES6`ä¸­æ–°å¢äº†åå¼•å·ç”¨æ¥è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œé™¤äº†åœ¨å†…éƒ¨ä½¿ç”¨`${}`å°†ä»»ä½•è¡¨è¾¾å¼åµŒå…¥å­—ç¬¦ä¸²ä¸­çš„ç”¨æ³•ï¼Œåå¼•å·å®é™…ä¸Šè¿˜æ”¯æŒæ¨¡æ¿å‡½æ•°ï¼Œé€šè¿‡åœ¨ç¬¬ä¸€ä¸ªåå¼•å·å‰æŒ‡å®šå‡½æ•°åï¼Œè¯¥å‡½æ•°å°±ä¼šè¢«è‡ªåŠ¨è°ƒç”¨å¹¶ä¼ å…¥æ¨¡æ¿å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°
```
function print(str, val) {
  console.log(str.join(' ') + val)
}

print`Hello${1}World` // 'Hello World1'
```

2.å¸¸è§çš„æ“ä½œå­—ç¬¦ä¸²çš„æ–¹å¼
```
let str = 'abcd'

str.length // 4

str[0] // 'a'

str.charAt(1) // 'b'

for (let s of str) console.log(s) // 'a', 'b', 'c', 'd'

```

3.å­—ç¬¦ä¸²è™½ç„¶å’Œæ•°ç»„ç±»ä¼¼ï¼Œæ¯”å¦‚å¯é€šè¿‡`length`è·å–é•¿åº¦ï¼Œå¯éå†ï¼Œä½†æˆ‘ä»¬è¦æ³¨æ„å­—ç¬¦ä¸²æœ¬èº«æ˜¯ä¸å¯å˜çš„ï¼Œå•çº¯çš„æ”¹å˜å­—ç¬¦ä¸²ä¸­æŸä¸ªä½ç½®çš„å€¼æ²¡æœ‰æ•ˆæœï¼Œå¦‚æœæˆ‘ä»¬ç¡®å®éœ€è¦ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œå¥½çš„åšæ³•æ˜¯æŠŠå¤„ç†çš„ç»“æœå­˜æ”¾åˆ°ä¸€ä¸ªæ–°å»ºçš„å­—ç¬¦ä¸²å˜é‡ä¸­
```
let str = 'Hello'

str[0] = 'h'

console.log(str) // 'Hello'

let str2 = 'h' + str.slice(1) // 'hello'
```

4.å¯¹äºå­—ç¬¦ä¸²æŸ¥æ‰¾ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨`indexOf`æ–¹æ³•ï¼Œæ‰¾ä¸åˆ°çš„æƒ…å†µè¯¥æ–¹æ³•ä¼šè¿”å›`-1`ï¼Œæ— æ³•ç›´æ¥åœ¨åˆ¤æ–­è¯­å¥ä¸­ä½¿ç”¨ï¼Œè¿™é‡Œä»‹ç»ä¸€ç§æŠ€å·§`æŒ‰ä½NOT`ï¼Œ`~`è¿ç®—ç¬¦ä¼šå°†æ•°å­—è½¬ä¸º32ä½æ•´æ•°å¹¶å¯¹å…¶äºŒè¿›åˆ¶ä½ä¸­çš„æ‰€æœ‰ä½å–åï¼Œé€šä¿—ä¸€ç‚¹å°±æ˜¯`~n === -(n + 1)`ï¼Œåˆ©ç”¨è¿™ç‚¹æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–å­—ç¬¦ä¸²çš„æŸ¥æ‰¾åˆ¤æ–­
```
let str = 'abcd'

if (~str.indexOf('a')) {
  // find out
}
```

5.æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä½¿ç”¨`UTF-16`ç¼–ç ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½æœ‰å¯¹åº”çš„æ•°å­—ç¼–ç ï¼Œé€šè¿‡ç‰¹æ®Šçš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥å®ç°æ•°å­—ä»£ç åˆ°å­—ç¬¦çš„ç›¸äº’è½¬åŒ–
```
let str = '1234'

console.log(str.codePointAt(0)) // 49

String.fromCodePoint(49) // '1'
```

å®é™…ä¸Šæˆ‘ä»¬åŸæ¥ä¹Ÿæœ‰`str.charCodeAt`å’Œ`String.fromCharPoint`ä¸¤ä¸ªæ–¹æ³•ï¼Œå®šä¹‰æ–°çš„æ–¹æ³•æ˜¯ä¸ºäº†å¤„ç†ä»£ç†å¯¹ï¼ˆæ‰€è°“ä»£ç†å¯¹å°±æ˜¯ä¸€äº›ç¨€æœ‰å­—ç¬¦æ— æ³•ç”¨2å­—èŠ‚è¡¨ç¤ºï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€å¯¹2å­—èŠ‚çš„ç¬¦å·ç¼–ç ï¼‰ï¼Œè€çš„æ–¹æ³•ç”±äºä»£ç†å¯¹åœ¨JSåˆ›å»ºæ—¶å¹¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥æ— æ³•æ­£ç¡®å¤„ç†
```
let str = 'ğ’³'

console.log(str.length) // 2

str.charCodeAt(0) // 55349

String.fromCharCode(55349) // 'ï¿½'

// æ­£ç¡®çš„å¤„ç†

str.codePointAt(0) // 119987

str.codePointAt(1) // 56499ï¼Œå’Œè€çš„æ–¹æ³•ä¸€æ ·å–ä»£ç†å¯¹çš„åä¸€ä¸ªå­—èŠ‚çš„æ•°å­—ç¼–ç 

String.fromCodePoint(119987) // 'ğ’³'
```

6.å­—ç¬¦ä¸²ä¸­æœ‰ä¸€äº›å­—ç¬¦å«æœ‰éŸ³æ ‡ï¼Œå’ŒåŸå­—ç¬¦ä¸åŒï¼Œè¿™äº›å˜éŸ³ç¬¦å·å…è®¸ä½¿ç”¨å¤šä¸ª`unicode`å­—ç¬¦è¡¨ç¤ºï¼ˆå½“ç„¶ä¸€äº›å¸¸è§çš„å˜éŸ³å­—ç¬¦ä¹Ÿå¯ä»¥æ‹¥æœ‰å•å­—ç¬¦çš„æ•°å­—ç¼–ç ï¼‰ï¼Œè¿™å¸¦æ¥ä¸€äº›è¡¨ç¤ºå’Œæ¯”è¾ƒä¸Šçš„é—®é¢˜ï¼Œæ‰€å¹¸åæ¥æˆ‘ä»¬å®šä¹‰äº†ä¸€äº›æ–¹æ³•å¯¹å…¶è¿›è¡Œå¤„ç†
```
let str1 = 'S\u0307\u0323' // SÌ‡Ì£
let str2 = 'S\u0323\u0307' // SÌ‡Ì£

str1 === str2 // false

str1.normalize() === str2.normalize() // trueï¼Œ '\u1e68'

'Ã–' > 'Z' // true
'Ã–'.localeCompare('Z') // -1ï¼Œä»£è¡¨'Ã–'å°äº'Z'ï¼Œè¿™ç¬¦åˆç›´è§‰
```

### å˜é‡

1.`var`ã€`let`ã€`const`çš„åŒºåˆ«

- `var`æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œä¸æ˜¯å‡½æ•°ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ä½œç”¨åŸŸ
- `var`å…è®¸é‡å¤å£°æ˜
- `var`å£°æ˜çš„å˜é‡å¯ä»¥åœ¨å…¶å£°æ˜è¯­å¥å‰è¢«ä½¿ç”¨

```
// ç¥å¥‡çš„æƒ…å†µ

if (0) {
  var a = 1 // è¿™é‡Œçš„é€»è¾‘ç†è®ºä¸Šæ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œä½†aè¿˜æ˜¯è¢«å£°æ˜äº†
}

console.log(a) // undefined
```

åœ¨æ—§æ—¶ä»£ï¼Œæˆ‘ä»¬å¯¹å—çº§ä½œç”¨åŸŸçš„`hack`æ˜¯`IIFE`ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œéšç€`let`å’Œ`const`çš„é¢ä¸–ï¼Œå®ƒçš„ä½œç”¨å·²ç»è¶Šæ¥è¶Šå°äº†

### æ•°æ®ç±»å‹

1.`null`å’Œ`undefined`çš„å„ç§è¡¨ç°

åœ¨`==`ä¸­`null`å’Œ`undefined`ä¸èƒ½è½¬ä¸ºå…¶ä»–ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°ä¸‹é¢çš„ç»“æœ
```
null == undefined // true

null == 0 // false

null == '' // false

undefined == 0 // false

undefined == '' // false
```

åœ¨è¿ç®—ç¬¦ä¸­ï¼Œ`null`è¢«è§†ä¸º`0`ï¼Œè€Œ`undefined`è¢«è§†ä¸º`NaN`
```
1 - null // 1

null >=0 // true

undefined + 1 // NaN

undefined >= 0 // false

```

2.`NaN`çš„å„ç§è¡¨ç°

`NaN`ä¸ç­‰äºè‡ªèº«ï¼Œåªèƒ½é€šè¿‡`isNaN`åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯éæ•°å­—
```
NaN == NaN // false

isNaN('a') // true
```

`NaN`ä¸å…¶ä»–æ•°æ®åšåŠ å‡ä¹˜é™¤å‡å¾—åˆ°`NaN`ï¼Œ`NaN`ä¸å…¶ä»–æ•°æ®æ¯”è¾ƒå‡å¾—åˆ°`false`
```
1 + NaN // NaN

1 * NaN // NaN

NaN >= 0 // false

NaN < -1 // false
```

### æ•°å­—ç±»å‹

1.æˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›é•¿æ•°å­—é€šè¿‡ç®€å†™æ¥é¿å…å†™ä¸€é•¿ä¸²çš„0ï¼Œä¸ä»…æ˜¯å› ä¸ºæ‡’ï¼Œæ›´å¤šçš„æ˜¯å‡ºäºé¿å…é”™è¯¯çš„è€ƒè™‘
```
10000 === 1e4
10000 === 10e3

10007 === 1e4+7

0.001 == 1e-3 // 3è¡¨ç¤ºé™¤1å¤–0çš„æ•°é‡
```

2.ä¸€èˆ¬æ•°å­—åœ¨JSä¸­æœ‰å¤šç§è¿›åˆ¶çš„è¡¨ç¤ºï¼Œæ¯”å¦‚è¯´å½“éœ€è¦æŒ‰ä½æ“ä½œæ—¶æˆ‘ä»¬ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼›é¢œè‰²ä»£ç æˆ‘ä»¬ç”¨16è¿›åˆ¶è¡¨ç¤ºï¼Œ`toString()`æ–¹æ³•æ¥æ”¶å‚æ•°`base`ï¼ŒæŒ‡å®šè½¬åŒ–ä¸ºå“ªç§è¿›åˆ¶çš„è¡¨ç¤ºå­—ç¬¦ä¸²
```
let num = 255

num.toString(2) // '11111111'

num.toString(8) // '377'

num.toString(16) // 'ff'
```

å½“ç„¶æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„è¿˜æœ‰`parseInt`æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºç”¨ä»€ä¹ˆåŸºæ•°æ¥è§£æä¼ å…¥çš„å­—ç¬¦ä¸²
```
parseInt('10') // 10

parseInt('11111111', 2) // 255

parseInt('377', 8) // 255

parseInt('ff', 16) // 255

parseInt('0xff', 16) // 255ï¼ŒparseIntæ–¹æ³•å†…éƒ¨å¯¹16è¿›åˆ¶åšäº†ç‰¹æ®Šå¤„ç†ä½¿å¾—å…¶èƒ½å¤Ÿè¯†åˆ«0xå‰ç¼€
```

3.æ•°å­—çš„èˆå…¥æ–¹å¼æ€»ç»“

`Math`æ•°å­¦æ–¹æ³•åº“çš„å››ä¸ªå¸¸ç”¨æ–¹æ³•`round`ã€`floor`ã€`ceil`ã€`trunc`
```
Math.round(1.5) // 2ï¼Œå››èˆäº”å…¥
Math.floor(1.5) // 1ï¼Œå‘ä¸‹èˆå…¥
Math.ceil(1.5) // 2ï¼Œå‘ä¸Šèˆå…¥
Math.trunc(1.5) // 1ï¼Œç§»é™¤å°æ•°ç‚¹åçš„å†…å®¹
```

ä¸€äº›æ“ä½œä¼šæŠŠå°æ•°å…ˆè½¬åŒ–æˆæ•´æ•°å†å¤„ç†ï¼Œæ¯”å¦‚è¯´ä½è¿ç®—ç¬¦ï¼Œè¿™äº›ä½è¿ç®—ç¬¦ä¼šç›´æ¥ä¸¢å¼ƒæ‰å°æ•°åé¢çš„éƒ¨åˆ†
```
4.9 >> 1 // 2
3.9 >> 1 // 1
```

4.ä¿ç•™å°æ•°

ç”¨çš„æœ€å¤šçš„æ˜¯`toFixed`æ–¹æ³•ï¼Œå®ƒæŠŠæ•°å­—ä¿ç•™æŒ‡å®šä½æ•°ï¼ˆå››èˆäº”å…¥ï¼‰çš„å°æ•°å¹¶è½¬æˆå­—ç¬¦ä¸²è¿”å›
```
'1.2252'.toFixed(2) // '1.23'
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¹˜é™¤æ³•æ¨¡æ‹Ÿ
```
let num = 1.23456

console.log(Math.floor(num * 100) / 100) // 1.23
```

æ­¤å¤–è¿˜æœ‰`toPrecision`å’Œ`toExponential`æ–¹æ³•
```
let num = 1.23456

console.log(num.toPrecision(4)) // 1.235
console.log(num.toExponential(3)) // 1.235e+0
```

5.å°æ•°çš„ä¸ç²¾ç¡®æ€§ï¼Œå°±å¥½åƒæˆ‘ä»¬åœ¨åè¿›åˆ¶ä¸­æ— æ³•è¡¨ç¤º`1/3`è¿™ç§æ— é™å¾ªç¯å°æ•°ä¸€æ ·ï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•è¡¨ç¤ºè¯¸å¦‚`0.1`ã€`0.2`è¿™æ ·çš„å°æ•°
```
0.1 + 0.2 === 0.3 // false

console.log(0.1 + 0.2) // 0.30000000000000004
```

é€šè¿‡`toFixed`æ–¹æ³•æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç²¾åº¦çš„æŸå¤±ï¼Œåœ¨è¿ç®—ä¸­è¿™ä¸ªæŸå¤±ä¼šç´¯åŠ 
```
0.1.toFixed(20) // '0.10000000000000000555'

0.2.toFixed(20) // '0.20000000000000001110'
```

æ‰€ä»¥æˆ‘ä»¬è¦é¿å…å¯¹å°æ•°è¿›è¡Œæ¯”è¾ƒï¼Œæˆ–è€…æŠŠå°æ•°çš„è¿ç®—è½¬åŒ–ä¸ºæ•´æ•°çš„è¿ç®—ï¼Œé¿å…ç²¾åº¦çš„æŸå¤±

6.å¤„ç†æ•°å­—åˆ¤æ–­çš„å†å²é—®é¢˜`Object.is`ï¼Œæˆ‘ä»¬åŸæ¥æ˜¯æ— æ³•åŒºåˆ†`NaN`å’Œæ­£è´Ÿ0çš„ï¼Œä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœ
```
NaN === NaN // false

0 === -0 // true

Object.is(NaN, NaN) // true
Object.is(0, -0) // false
```

7.å¥‡è‘©é—®é¢˜ï¼Œä¸ºå•¥`6.35.toFixed(1) == 6.3`ï¼Œè¿™ä¸ªå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ç²¾åº¦æŸå¤±çš„é—®é¢˜ï¼Œæˆ‘ä»¬æŠŠ`6.35`æ‰“å°å‡ºæ¥å°±ä¸€ç›®äº†ç„¶äº†
```
6.35.toFixed(1) == 6.3 // true

console.log(6.35.toFixed(20)) // 6.34999999999999964473
```

8.ç”Ÿæˆä»`min`åˆ°`max`çš„éšæœºæ•´æ•°ï¼Œç”±äºå››èˆäº”å…¥çš„å­˜åœ¨ï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ•´æ•°çš„æ¦‚ç‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­
```
function random (min, max) {
  return Math.round(min + (max - min) * Math.random())
}

random(1, 3)

å¾—åˆ°1çš„å€¼çš„èŒƒå›´æ˜¯`1-1.4999999...`
å¾—åˆ°2çš„å€¼çš„èŒƒå›´æ˜¯`1.5-2.4999999...`
å¾—åˆ°3çš„å€¼çš„èŒƒå›´æ˜¯`2.5-3`

æ‰€ä»¥å¾—åˆ°2çš„æ¦‚ç‡æ˜¯å…¶ä»–ä¸¤ä¸ªå€¼çš„ä¸¤å€
```

æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å–`min - 0.5 ~ max + 0.5`çš„æ–¹æ³•
```
function random (min, max) {
  return Math.round((min - 0.5) + (max - min + 1) * Math.random())
}
```

ä¹Ÿå¯ä»¥é‡‡ç”¨`Math.floor`çš„æ–¹å¼å–`min ~ max + 1`çš„èŒƒå›´
```
function random (min, max) {
  return Math.floor(min + (max - min + 1) * Math.random())
}
```

### ç±»å‹æ£€æµ‹

é™¤äº†`typeof`å’Œ`instanceof`ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»è¿‡`Object.prototype.toString`æ–¹æ³•æ¥æ£€æŸ¥æ•°æ®ç±»å‹ï¼Œä½†è¿™é‡Œæˆ‘ä»¬æ‰©å±•ä¸€ä¸‹ï¼Œ`toString`æ–¹æ³•å®é™…ä¸Šä¼šæŸ¥æ‰¾ç›®æ ‡å¯¹è±¡çš„`Symbol.toStringTag`å±æ€§ï¼Œæ‹¿åˆ°å…¶å€¼ä½œä¸º`toString`çš„è¿”å›å€¼
```
let obj = {
  [Symbol.toStringTag]: 'User'
}

obj.toString() // '[object User]'
```

## è¿ç®—

### å€¼çš„æ¯”è¾ƒ

1.å­—ç¬¦ä¸²ä¹‹é—´çš„æ¯”è¾ƒæ˜¯æŒ‰é¡ºåºæ¯”è¾ƒæ¯ä¸€ä½çš„æ•°å­—ç¼–ç ï¼Œç›´åˆ°æ¯”è¾ƒå‡ºç»“æœæˆ–è€…ä¸€æ–¹æ²¡æœ‰å¯æ¯”è¾ƒçš„å­—ç¬¦
```
'abcd' > 'abcc' // true

'abcd' > 'b' // false

'abcd' > 'abc' // true

'abcd' === 'abcd' // true
```

### è¿ç®—ç¬¦

1.è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§

- ä¹˜é™¤ä¼˜å…ˆçº§é«˜äºåŠ å‡
- æ‹¬å·ä¼˜å…ˆçº§æœ€é«˜
- ä¸€å…ƒè¿ç®—ç¬¦é«˜äºäºŒå…ƒè¿ç®—ç¬¦

2.æˆ‘ä»¬çŸ¥é“`=`æœ‰èµ‹å€¼åŠŸèƒ½ï¼Œä½†æˆ‘ä»¬ç»å¸¸ä¼šå¿½ç•¥å®ƒçš„å¦ä¸€ä¸ªä½œç”¨ï¼Œè¿”å›èµ‹å€¼çš„ç»“æœ
```
let a = 0

let c = 3 - (a = 2 + 1) // 0
```

`=`è¿ç®—ç¬¦è¿˜æ”¯æŒé“¾å¼æ“ä½œï¼Œä½¿å¾—å¤šä¸ªå˜é‡å…±äº«åŒä¸€ä¸ªå€¼
```
let a, b, c

a = b = c = 0
```

3.è‡ªå¢/è‡ªå‡æ“ä½œæœ‰å‰ç½®å’Œåç½®ä¸¤ç§å½¢å¼ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯è¿”å›å€¼çš„ä¸åŒ
```
let a = 2

a++ // 2ï¼Œå…ˆè¿”å›å†è‡ªå¢
++a // 4ï¼Œå…ˆè‡ªå¢å†è¿”å›
```

4.é€—å·è¿ç®—ç¬¦æˆ‘ä»¬ä½¿ç”¨çš„å¾ˆå°‘ï¼Œä½†ä¸€äº›æƒ…å†µä¼šä½¿ç”¨å®ƒå†™æ›´ç®€çŸ­çš„ä»£ç ï¼Œæ‰€ä»¥æœ‰å¿…è¦äº†è§£ä¸€ä¸‹å®ƒçš„è§„åˆ™ï¼Œå¯¹äºç”¨é€—å·è¿æ¥çš„è¡¨è¾¾å¼æˆ–è¯­å¥ï¼Œæˆ‘ä»¬ä¼šæ‰§è¡Œæ¯ä¸€æ¡è¡¨è¾¾å¼æˆ–è¯­å¥ï¼Œä½†æœ€ç»ˆåªè¿”å›æœ€åä¸€æ¬¡è®¡ç®—çš„å€¼
```
1, 2 // 2

let a = (1 + 2, 3 + 4)

console.log(a) // 7

```

é€—å·è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å¾ˆä½ï¼Œç”šè‡³æ¯”`=`è¿˜è¦ä½ï¼Œæ‰€ä»¥åœ†æ‹¬å·æ˜¯å¾ˆæœ‰å¿…è¦çš„
```
let a = 1, 2

console.log(a) // 1
```

### é€»è¾‘è¿ç®—ç¬¦

1.`||`è¿ç®—ç¬¦åœ¨JSä¸­å’Œæˆ‘ä»¬æ¥è§¦åˆ°çš„ä¼ ç»Ÿç¼–ç¨‹è¯­è¨€æœ‰äº›è®¸ä¸åŒï¼Œå®ƒä¼šå»æŸ¥æ‰¾ä»¥`||`è¿ç®—ç¬¦è¿æ¥çš„å„ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡ºç°çš„çœŸå€¼å¹¶è¿”å›ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›æœ€åä¸€ä¸ªå€¼ï¼Œè™½ç„¶åœ¨`||`è¿ç®—ç¬¦åˆ¤æ–­æ—¶å†…éƒ¨ä¼šè¿›è¡Œå¸ƒå°”è½¬æ¢ï¼Œä½†è¿”å›æ—¶åªè¿”å›è®¡ç®—å€¼
```
let a = null || -1 || undefined

console.log(a) // -1

1 || console.log(1) // çŸ­è·¯è¿ç®—ï¼Œæ°¸è¿œä¸ä¼šæ‰§è¡Œconsole.log
```

2.`&&`è¿ç®—ç¬¦å’Œ`||`è¿ç®—ç¬¦ç±»ä¼¼ï¼Œä½†å®ƒæ‰¾çš„æ˜¯ç¬¬ä¸€ä¸ªå‡ºç°çš„å‡å€¼
```
let a = -1 && null && 0

console.log(a) // null
```

`&&`è¿ç®—ç¬¦è¦æ¯”`||`è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜ï¼Œæ‰€ä»¥åœ¨å­˜åœ¨è¿™ä¸¤è€…æ—¶ï¼Œæˆ‘ä»¬ä¸å¿…åˆ»æ„åŠ åœ†æ‹¬å·
```
let a = 1 && 2 || -1 && 10

console.log(a) // 2
```

3.å®¹æ˜“å‘ç”Ÿè¯¯è§£çš„åœ°æ–¹
```
if (-1 || 0) console.log('a') // 'a'ï¼Œè¿™é‡Œåˆ¤æ–­ä¸­çš„ç»“æœä¸º-1

if (null || -1 && 1) console.log('b') // 'b'ï¼Œè¿™é‡Œåˆ¤æ–­ä¸­çš„ç»“æœä¸º1
```

### Switchè¯­å¥

1.`switch`è¯­å¥çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯å¯å–ä»£å¤šåˆ†æ”¯é€‰æ‹©çš„`if/else`è¯­å¥ï¼Œ`switch`è¯­å¥è‡³å°‘è¦æœ‰ä¸€ä¸ª`case`ä»£ç å—å’Œä¸€ä¸ªå¯é€‰çš„`default`ä»£ç å—
```
let a = 1

switch(a) {
  case 1:
    console.log('found')
    break
  default:
    console.log('not found')
    break
}
```

2.`switch`è¯­å¥çš„é€»è¾‘æ—¶æ ¹æ®ä¼ å…¥çš„å‚æ•°åŒ¹é…`case`åé¢çš„å€¼ï¼ŒåŒ¹é…åˆ°å€¼åä¼šæ‰§è¡Œåé¢çš„ä»£ç ç›´åˆ°é‡åˆ°`break`æŒ‡ä»¤ï¼Œè¿™é‡Œæè¿°çš„åé¢çš„ä»£ç ä¸ä¼šå†ä¸‹ä¸€ä¸ª`case`å—åœæ­¢ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åœ¨å¤„ç†æ¯ç§æƒ…å†µæ—¶æœ€å¥½éƒ½åŠ ä¸Š`break`é™¤éä½ æ˜ç™½è‡ªå·±åœ¨å¹²ä»€ä¹ˆ
```
let a = 1

switch(a) {
  case 1:
    console.log('one')
  case 1:
    console.log('two')
    break
  default:
    console.log('not found')
    break
}

æœ€ç»ˆä¼šè¾“å‡ºoneã€twoä¸¤ä¸ªç»“æœ
```

### å¾ªç¯

1.å¯¹äº`for`å¾ªç¯ï¼Œé™¤äº†å¾ªç¯ä½“æˆ‘ä»¬å®šä¹‰äº†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯`begin`ã€`condition`ã€`step`
```
for (begin; condition; step) {
  // å¾ªç¯ä½“
}
```

æˆ‘ä»¬å¯ä»¥çœç•¥è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå¾—åˆ°ä¸€ä¸ªæ— é™å¾ªç¯`for (;;)`ï¼Œè¦æ³¨æ„ä¸¤ä¸ªåˆ†å·ä¸èƒ½çœç•¥ï¼Œå¦åˆ™ä¼šäº§ç”Ÿè¯­æ³•é”™è¯¯

2.æ ‡ç­¾ï¼Œæˆ‘ä»¬äº†è§£äº†`continue`å’Œ`break`å¯ä»¥è·³å‡ºå½“å‰å¾ªç¯æˆ–è·³è¿‡å½“æ¬¡è¿­ä»£ï¼Œå¦‚æœåœ¨åé¢è·Ÿä¸Šæ ‡ç­¾åˆ™ä¼šè·³å‡ºæ ‡ç­¾æŒ‡å®šçš„å¾ªç¯æˆ–è€…è·³è¿‡æ ‡ç­¾æŒ‡å®šå¾ªç¯çš„å½“æ¬¡è¿­ä»£
```
next: for(;;) {
  for (;;) {
    break next;
  }
}

console.log(1) // 1
```

## å¯¹è±¡

### åŸºæœ¬å®šä¹‰

1.æˆ‘ä»¬åœ¨å®šä¹‰å¯¹è±¡å±æ€§æ—¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ç‚¹ç¬¦å·ï¼Œä¸€ç§æ˜¯æ–¹æ‹¬å·
```
let obj = {
  name: 'liu',
  age: 23,
}

obj.name // 'liu'

obj['name'] // 'liu'
```

ç‚¹ç¬¦å·åªèƒ½æ¥å±æ€§åï¼Œä¸èƒ½è·Ÿå˜é‡
```
let n = 'name'

obj.n // undefined
```

æ–¹æ‹¬å·å¯ä»¥åè·Ÿå˜é‡åï¼Œæ­¤å¤–ï¼Œå®ƒè¿˜èƒ½å¼•ç”¨å¤šè¯è¯­çš„å±æ€§
```
let obj = {
  name: 'liu',
  age: 23,
  'like things': 'apple'
}

obj['like things'] // 'apple'

let l = 'like things'
obj[l] // 'apple'
```

2.å½“æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªåŠ¨æ€`key`çš„å±æ€§æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨è®¡ç®—å±æ€§
```
let sex = 'sex'

let obj = {
  name: 'liu',
  age: 23,
  [sex + ' is']: 'male',
}

obj['sex is'] // 'male'
```

3.åœ¨è®¾ç½®å¯¹è±¡å±æ€§æ—¶ï¼Œæˆ‘ä»¬æ— æ³•æŠŠ`__proto__`çš„å€¼è®¾ä¸ºéå¯¹è±¡
```
let obj = {
  name: 'liu',
  age: 23,
}

obj.__proto__ = 5

alert(obj.__proto__)  // [object Object]
```

4.åˆ¤æ–­å±æ€§æ˜¯å¦å­˜åœ¨å¯¹è±¡ä¸­çš„æ–¹æ³•

- `in`ï¼Œæ ¼å¼ä¸ºå·¦è¾¹æ˜¯è¦åˆ¤æ–­çš„å±æ€§åï¼Œå³è¾¹æ˜¯æ“ä½œå¯¹è±¡ï¼Œä¼šæŸ¥æ‰¾åŸå‹é“¾
- `obj.hasOwnProperty`ï¼Œç»§æ‰¿çš„æ–¹æ³•ï¼Œåˆ¤æ–­å¯¹è±¡æœ¬èº«æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œä¸æŸ¥æ‰¾åŸå‹é“¾
- ç›´æ¥å¼•ç”¨æŸä¸ªå±æ€§ï¼Œçœ‹å€¼æ˜¯å¦ä¸º`undefined`ï¼Œæ³¨æ„å±æ€§è¢«èµ‹å€¼ä¸º`undefined`çš„æƒ…å†µ

```
let obj = { name: 'aa' }

obj.b // undefiend

'name' in obj // true

'toString' in obj // true

obj.hasOwnProperty('toString') // false
```

5.éå†å¯¹è±¡çš„æ–¹æ³•

- `for...in`ï¼Œéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰
- `Object.keys`ï¼Œéå†å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰
- `Object.getOwnPropertyNames`ï¼Œéå†è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰
- `Object.getOwnPropertySymbols`ï¼Œéå†è‡ªèº«æ‰€æœ‰çš„Symbolå±æ€§
- `Reflect.ownKeys`ï¼Œéå†å¯¹è±¡è‡ªèº«çš„å…¨éƒ¨å±æ€§ï¼ˆåŒ…å«Symbolå±æ€§ï¼‰

![å¯¹è±¡éå†](./../img/basic_1.png)

6.å¯¹è±¡åœ¨éå†æ—¶å¯¹äºå±æ€§å¹¶ä¸éƒ½æ˜¯æŒ‰ç…§å®šä¹‰çš„é¡ºåºæ¥çš„ï¼Œåœ¨éå†åˆ°ä¸€äº›å¯ä»¥è¢«è½¬åŒ–æˆæ•°å­—çš„å±æ€§åæ—¶ï¼Œä¼šæŠŠå®ƒä»¬æåˆ°å‰é¢å¹¶æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºéå†å‡ºæ¥ï¼Œç„¶åå†éå†å…¶ä»–å±æ€§
```
let obj = {
  name: 'liu',
  '0': 0,
  '1': 1,
}

Object.keys(obj) // ['0', '1', 'name']
```

### æ„é€ å‡½æ•°å’Œæ“ä½œç¬¦

1.ä¸€ä¸ªå‡½æ•°æˆ‘ä»¬å¯ä»¥é€šè¿‡`new.target`å±æ€§æ¥æ£€æŸ¥å®ƒæ˜¯å¦è¢«ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œå¦‚æœæ˜¯æ™®é€šè°ƒç”¨ï¼Œå€¼ä¸º`undefined`ï¼Œå¦åˆ™æŒ‡å‘æ„é€ å‡½æ•°æœ¬èº«
```
function Parent () {
  this.name = 'liu'

  console.log(new.target)
}

Parent() // undefined

new Parent() // æ‰“å°å‡½æ•°æœ¬èº«
```

2.æ„é€ å‡½æ•°ä¸€èˆ¬æ²¡æœ‰`return`å€¼ï¼Œå¦‚æœæ˜¾å¼æŒ‡å®šè¿”å›ï¼Œä¼šæ ¹æ®å€¼çš„ç±»å‹å†³å®šè¦ä¸è¦å¿½ç•¥ï¼Œå¦‚æœæ˜¯å¯¹è±¡ï¼Œå°±è¿”å›è¿™ä¸ªå¯¹è±¡ï¼›å¦‚æœæ˜¯åŸå§‹ç±»å‹ï¼Œå°±å¿½ç•¥
```
function Parent (ctl) {
  this.name = 'liu'

  return ctl ? {} : 1
}

new Parent() // { name: 'liu' }

new Parnet(1) // {}
```

3.å¯¹è±¡æä¾›äº†ä¸€å¯¹æ–¹æ³•ç”¨æ¥è½¬æ¢æ•°ç»„å’Œå¯¹è±¡ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•å¤„ç†å¯¹è±¡ç„¶åè¿”å›ä¸€ä¸ªå¤„ç†åçš„å¯¹è±¡
```
let obj = {
  name: 1,
  age: 2
}

Object.fromEntries(Object.entries(obj).map(([key, value]) => [key, value * 2]))

// è¾“å‡º
{
  name: 2,
  age: 4
} 
```

## æ•°ç»„

1.JSä¸­æ•°ç»„æ—¢å¯ä»¥å……å½“é˜Ÿåˆ—`push, shift`ï¼Œä¹Ÿå¯ä»¥å……å½“æ ˆ`pop, push`ï¼Œè¿™æ ·çš„æ•°æ®ç»“æ„åœ¨è®¡ç®—æœºä¸­è¢«ç§°ä¸ºåŒç«¯é˜Ÿåˆ—

2.JSå¯¹æ•°ç»„åšäº†ä¸€äº›ä¼˜åŒ–ï¼Œæ¯”å¦‚å°†æ•°ç»„ä¸­çš„å…ƒç´ å­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜åŒºåŸŸï¼Œä½†å¦‚æœæˆ‘ä»¬åƒå¯¹å¾…å¸¸è§„å¯¹è±¡ä¸€æ ·å¯¹å¾…æ•°ç»„ï¼Œè¿™äº›ä¼˜åŒ–å°†è¢«å…³é—­ï¼Œä¸‹é¢çš„å‡ ç§æ–¹å¼éƒ½æ˜¯ä¸å»ºè®®çš„ï¼š
```
let arr = []

// æ·»åŠ éæ•°å­—å±æ€§
arr.test = 'name'

// éè¿ç»­èµ‹å€¼
arr[0] = 1
arr[10000] = 1

// åˆ†é…çš„ç´¢å¼•æå¤§
arr[10000000000000] = 1
```

3.æ“ä½œæ•°ç»„æœ«ç«¯çš„æ–¹æ³•è¦æ¯”æ“ä½œæ•°ç»„å¤´éƒ¨çš„æ–¹æ³•æ€§èƒ½è¦å¥½ï¼Œè¿™æ˜¯å› ä¸ºæ“ä½œå¤´éƒ¨æ•°æ®è¿˜éœ€è¦é¢å¤–çš„é‡æ–°ç¼–å·

4.éå†æ•°ç»„çš„æ–¹å¼

- `for (let i=0; i<arr.length; i++)`å¾ªç¯ï¼Œè¿è¡Œæœ€å¿«ï¼Œå…¼å®¹æœ€å¥½
- `forEach`ï¼Œè¯¥æ–¹æ³•ä¼šè·³è¿‡æ•°ç»„ä¸­çš„ç©ºä½
- `for...in`ï¼Œè¯¥æ–¹æ³•ä¸ä»…ä¼šéå†æ•°å­—ç´¢å¼•ï¼Œè¿˜ä¼šéå†å…¶ä»–å®šä¹‰çš„å±æ€§ï¼Œä¸å»ºè®®ä½¿ç”¨
- `for...of`ï¼Œä¸è·å–ç´¢å¼•ï¼Œåªè·å–æ¯ä¸ªå…ƒç´ çš„å€¼

5.æ‹“å±•ï¼Œæ±‚è§£æ•°ç»„ä¸­ç´¯åŠ å’Œæœ€å¤§çš„è¿ç»­çš„å­æ•°ç»„çš„æœ€å¤§å’Œ

æš´åŠ›è§£æ³•ï¼ŒåŒé‡éå†ï¼Œæšä¸¾å‡ºæ‰€æœ‰å¯èƒ½çš„å­æ•°ç»„ï¼Œæ±‚å’Œï¼Œæ±‚æœ€å¤§å€¼
```
function getMaxSubSum (arr) {
  let max = 0
  for (let i = 0; i < arr.length; i++) {
    let tmp = 0
    for (let j = i; j < arr.length; j++) {
      tmp += arr[j]
      max = Math.max(max, tmp)
    }
  }

  return max >= 0 ? max : 0
}
```

åŠ¨æ€è§„åˆ’ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º`dp[i] = max(dp[i - 1] + a[i], a[i])`
```
function getMaxSubSum (arr) {
  let n = arr.length
  let dp = [arr[0], ...Array(n - 1).fill(0)]
  let max = dp[0]

  for (let i = 1; i < n; i++) {
    dp[i] = Math.max(dp[i - 1] + arr[i], arr[i])

    max = Math.max(dp[i], max)
  }

  return max > 0 ? max : 0
}
```

è€ƒè™‘åˆ°æˆ‘ä»¬ä¸éœ€è¦è®°å½•ä¸­é—´å­æ•°ç»„çš„å’Œï¼Œæˆ‘ä»¬åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªå˜é‡å³å¯
```
function getMaxSubSum (arr) {
  let max = 0
  let tmp = 0

  for (let i = 0; i < arr.length; i++) {
    tmp += arr[i]
    if (tmp < 0) tmp = 0

    max = Math.max(tmp, max)
  }

  return max
}
```

éªŒè¯

![æœ€å¤§å­æ•°ç»„ç»“æœ](./../img/basic_2.png)

## è§£æ„èµ‹å€¼

1.æ•°ç»„çš„è§£æ„èµ‹å€¼ä¼šæ ¹æ®ä¼ å…¥å˜é‡çš„ä¸ªæ•°ï¼Œä»`0`å¼€å§‹ä¸€ä¸€æ˜ å°„ï¼Œå¦‚æœè¦ä¸¢å¼ƒæŸä¸ªä¸‹æ ‡çš„å€¼ï¼Œåªéœ€è¦å¢åŠ é¢å¤–çš„é€—å·
```
let arr = [1, 2, 3, 4]

let [one, two, , four] = arr // 1, 2, 4
```

å®é™…ä¸Šè§£æ„èµ‹å€¼æ›´åŠ å¼ºå¤§ï¼Œç­‰å·å·¦è¾¹å¯ä»¥æ˜¯ä»»ä½•å¯ä»¥è¢«èµ‹å€¼çš„ä¸œè¥¿ï¼Œè€Œå³è¾¹å¯ä»¥æ˜¯ä»»ä½•å¯è¿­ä»£å¯¹è±¡
```
let [a, b, c] = 'abc'

let obj = {}

let [obj.name, obj.sub] = 'hello world'.split(' ')
```

2.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`...`æ¥æ‹‰å–è§£æ„èµ‹å€¼çš„å‰©ä½™éƒ¨åˆ†
```
let [a, ...rest] = 'abcd'

console.log(rest) // ['b', 'c', 'd']
```

3.æˆ‘ä»¬å¯ä»¥ç»™è§£æ„èµ‹å€¼çš„å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œè®¾ç½®çš„å€¼å¯ä»¥é€šè¿‡è®¡ç®—è€Œæ¥ï¼Œåªæœ‰åœ¨è¿™ä¸ªå˜é‡æœªè¢«èµ‹å€¼çš„æ—¶å€™æ‰ä¼šè®¡ç®—é»˜è®¤å€¼
```
// è¿™é‡Œä¸ä¼šå¼¹å‡ºå¯¹è¯æ¡†
let [name = prompt('name?'), sub = 1 + 2] = ['ll']

console.log(sub) // 3
```

4.è§£æ„èµ‹å€¼å…è®¸åµŒå¥—çš„æƒ…å†µ
```
let obj = {
  name: {
    first: 'liu',
    second: 'xiang',
  }
}

let { name: { first, second } } = obj

console.log(first) // 'liu'
console.log(second) // 'xiang'
```

## JSON

1.JSä¸­çš„å¯¹è±¡åœ¨æ­£å¸¸æƒ…å†µä¸‹æ¯”å¦‚ä½¿ç”¨`toString`æ˜¯æ— æ³•çœ‹æ¸…æ¥šå…¶å†…éƒ¨çš„å±æ€§å€¼çš„ï¼Œå› ä¸ºå®ƒè¢«è½¬åŒ–æˆå¦‚ä¸‹çš„å­—ç¬¦ä¸²
```
({ name: 'liu' }).toString() // [object Object]
```

è¿™ä¸åˆ©äºè¿›è¡Œä¼ è¾“æˆ–è€…å†å¤„ç†ï¼Œæœ‰æ²¡æœ‰æ–¹æ³•å¯ä»¥å°†å¯¹è±¡æ˜ å°„ä¸ºå­—ç¬¦ä¸²å‘¢ï¼Œå°±åƒæ•°ç»„çš„`toString`æ–¹æ³•ä¼šè‡ªåŠ¨æŠŠå„ä¸ªå…ƒç´ ç”¨`,`è¿æ¥æˆå­—ç¬¦ä¸²ä¸€æ ·ï¼Œç­”æ¡ˆæ˜¯`JSON.stringify`
```
let obj = {
  a: {
    b: 'c'
  }
}

JSON.stringify(obj) // '{"a":{"b":"c"}}'
```

æ³¨æ„åˆ°å±æ€§åéƒ½è¢«åŠ ä¸Šäº†åŒå¼•å·ï¼Œæˆ‘ä»¬å†çœ‹çœ‹å…¶ä»–åŸå§‹ç±»å‹
```
let obj = {
  name: 'liu',
  age: 23,
  married: false,
  car: null,
  house: undefined,
  [Symbol('sex')]: 'male',
  sayHi () {
    alert('Hello')
  }
}

JSON.stringify(obj) // '{"name":"liu","age":23,"married":false,"car":null}'
```

é€šè¿‡ä¸Šé¢è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºè¯¥æ–¹æ³•çš„ä¸€äº›è§„åˆ™

- æŠŠå±æ€§åéƒ½ç”¨åŒå¼•å·åŒ…è£¹èµ·æ¥
- å¯¹å±æ€§å€¼ï¼ŒåªæŠŠå­—ç¬¦ä¸²æ ¼å¼çš„å€¼ç”¨åŒå¼•å·åŒ…è£¹
- è·³è¿‡å€¼ä¸º`undefined`å’Œæ–¹æ³•çš„å±æ€§
- è·³è¿‡`Symbol`ç±»å‹çš„å±æ€§

2.`JSON.stringify`æ–¹æ³•æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ç”¨æ¥æ§åˆ¶è½¬æ¢çš„å±æ€§èŒƒå›´

ä¼ å…¥ä¸€ä¸ªå±æ€§æ•°ç»„
```
let obj = {
  name: 'liu',
  age: 23,
  married: false,
  car: null,
  house: undefined,
  [Symbol('sex')]: 'male',
  sayHi () {
    alert('Hello')
  }
}

JSON.stringify(obj, ['name']) // '{"name":"liu"}'
```

ä¼ å…¥ä¸€ä¸ªæ–¹æ³•
```
let obj = {
  a: {
    b: 'c'
  },
  self: obj,
  global: {
    name: 'obj',
    value: obj,
  }
}

// è¿‡æ»¤å¾ªç¯å¼•ç”¨
JSON.stringify(obj, function (key, val) {
  console.log(this)

  return (key === 'self' || key === 'value') ? null : val
})

// è¾“å‡º {"a":{"b":"c"},"self":null,"global":{"name":"obj","value":null}}
```

ä¸Šé¢æˆ‘ä»¬åœ¨æ–¹æ³•ä¸­æ‰“å°`this`ï¼Œå¯ä»¥å¾ˆæ¸…æ¥šçš„å‘ç°è¯¥æ–¹æ³•ä¼šåœ¨å±æ€§é€’å½’éå†æ—¶è¢«è°ƒç”¨ï¼Œè°ƒç”¨æ—¶çš„`this`æŒ‡å‘å½“å‰å±æ€§æ‰€å±å¯¹è±¡

![JSONè½¬æ¢](./../img/basic_3.png)

ä»ç»“æœä¸­çœ‹å‡ºç¬¬ä¸€ä¸ªè°ƒç”¨å¾ˆç‰¹æ®Šï¼Œå®ƒçš„keyæ˜¯`""`ï¼Œè€Œå€¼æ˜¯ä¼ å…¥çš„ç›®æ ‡å¯¹è±¡æœ¬èº«ï¼Œè¿™è¡¨æ˜`stringify`æ–¹æ³•ä¼šé¢„å¤„ç†ç›®æ ‡å¯¹è±¡ï¼ŒæŠŠå®ƒåŒ…è£¹åˆ°ä¸€ä¸ªç‰¹æ®Šçš„åŒ…è£…å¯¹è±¡ä¸­ï¼Œè¿™ä¹ˆåšçš„åŸå› æ˜¯è®©`replacer`æ–¹æ³•æœ‰æœºä¼šè·³è¿‡æ•´ä¸ªå¯¹è±¡

3.å…¶å®`stringify`æ–¹æ³•è¿˜æ”¯æŒç¬¬ä¸‰ä¸ªå‚æ•°`spaces`ï¼Œç”¨äºæ§åˆ¶æ˜¾ç¤ºå¤šè¡Œæ—¶å¯¹è±¡çš„ç©ºæ ¼ç¼©è¿›æƒ…å†µï¼Œä¸»è¦æ˜¯è®°å½•æ—¥å¿—å’Œç¾åŒ–è¾“å‡º
```
let obj = {
  a: {
    b: 'c'
  },
}

JSON.stringify(obj, null, 4)

// è¾“å‡º
"{
    "a": {
        "b": "c"
    }
}"
```

4.å¯¹è±¡å¯ä»¥è‡ªå®šä¹‰`toJSON`æ–¹æ³•ï¼Œè¿™æ ·`JSON.stringify`ä¼šä¼˜å…ˆè°ƒç”¨å®ƒ
```
let obj = {
  time: new Date()
}

JSON.stringify(obj) // '{"time":"2020-10-23T01:58:36.823Z"}'
```

è¿™é‡Œå°±æ˜¯è°ƒç”¨äº†`Date`ç±»å®ä¾‹çš„å†…ç½®`toJSON`æ–¹æ³•æŠŠæ—¥æœŸå˜æˆäº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰`toJSON`æ–¹æ³•è¯•è¯•
```
let obj = {
  name: 'liu',
  sub: {
    name: 'xiang',
    toJSON() {
      return 1
    }
  }
}

JSON.stringify(obj) // '{"name":"liu","sub":1}'
```

5.`parse`æ–¹æ³•ç”¨äºé€†å‘è§£æ`stringify`ç”Ÿæˆçš„`JSON`ä¸²ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹å†™ï¼Œä½†æ‰‹å†™å®¹æ˜“å¼•å…¥é”™è¯¯ï¼Œé€ æˆè§£æå¤±è´¥
```
let obj = {
  name: 'liu'
}

JSON.parse(JSON.stringify(obj)) // {name: 'liu'}
```

`parse`æ–¹æ³•æ”¯æŒä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œå’Œ`stringify`ä¸€æ ·ï¼Œ`reviver`æ¥æ”¶åŒ¹é…åˆ°çš„æ¯ä¸€å¯¹é”®å€¼å¯¹
```
let str = '{"title":"Conference","date":"2017-11-30T12:00:00.000Z"}';

let meetup = JSON.parse(str); // å¾—åˆ°çš„dateå±æ€§å¹¶ä¸æ˜¯`Date`ç±»å®ä¾‹

meetup = JSON.parse(str, (key, val) => {
  if (key === 'date') return new Date(val)

  return val
})

meetup.date.getDate() // 30
```

6.é€šå¸¸æˆ‘ä»¬æœ‰æ·±æ‹·è´éœ€æ±‚ï¼Œå¦‚æœä¸æƒ³è‡ªå·±é‡å†™ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•çš„è¯ï¼Œå¯ä»¥åƒè¿™æ ·å®ç°
```
let obj = {
  name: 'liu',
  sub : {
    age: 23
  }
}

let obj2 = JSON.parse(JSON.stringify(obj))

obj2.name = 'haha'
obj2.age = 24

console.log(obj) // {name: 'liu', sub: { age: 23 }}
```

## Date

1.åˆ›å»ºæ—¥æœŸä½¿ç”¨`Date`å†…å»ºå¯¹è±¡ï¼ŒJSå†…ç½®çš„`Date`æ„é€ å‡½æ•°ååˆ†å¼ºå¤§

ä¸ä¼ å‚æ•°ï¼Œè¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„å¯¹è±¡
```
let now = new Date()

console.log(now) // Fri Oct 23 2020 10:39:18 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

ä¼ å…¥æ•´æ•°ï¼Œè¯¥æ•´æ•°è¡¨ç¤ºè‡ª`1970-1-1 00:00:00`ä»¥æ¥ç»è¿‡çš„æ¯«ç§’æ•°ï¼Œå…è®¸è´Ÿæ•°ï¼Œä¼šå¾€å‰æ¨
```
let Jan01_1970 = new Date(0)

console.log(Jan01_1970) // Thu Jan 01 1970 08:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)

let Dec31_1969 = new Date(-24 * 3600 * 1000)

console.log(Dec31_1969) // Wed Dec 31 1969 08:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

ä¼ å…¥å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ä¼šè¢«è‡ªåŠ¨è§£æï¼Œå’Œ`Date.parse`æ‰€ä½¿ç”¨çš„ç®—æ³•ç›¸åŒ
```
let date = new Date('2010å¹´11æœˆ12æ—¥') // Invalid Date

let date2 = new Date('2010-11-12') // Fri Nov 12 2010 08:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

ä¼ å…¥å½“å‰æ—¶åŒºä¸­ç»™å®šç»„ä»¶ï¼Œåªæœ‰å¹´ä»½å’Œæœˆä»½æ˜¯å¿…é¡»çš„å…¶ä»–éƒ½å¯ä»¥çœç•¥ï¼Œé»˜è®¤å¡«å……åˆå§‹å€¼
```
new Date(year, month, date, hour, minutes, seconds, ms)
```

å¹´ä»½å¿…é¡»æ˜¯å››ä½çš„ï¼Œæœˆä»½ä»`0`å¼€å§‹è®¡æ•°ï¼ŒæŸå¤©å¦‚æœç¼ºå¤±ï¼Œåˆ™è®¾ä¸º`1`ï¼Œå…¶ä»–é¡¹ç¼ºå¤±é»˜è®¤å€¼ä¸º`0`
```
let date = new Date (2010, 0) // Fri Jan 01 2010 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)

let date2 = new Date (2010, 0, 31, 13, 24, 1, 200) // Sun Jan 31 2010 13:24:01 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

2.è·å–`Date`å¯¹è±¡ä¸­å¹´æœˆæ—¥çš„æ–¹æ³•ä¸­æœ‰å‡ ä¸ªç‰¹æ®Šäº‹é¡¹

- è·å–å¹´ä»½æœ€å¥½ä½¿ç”¨`getFullYear`
- è·å–æœˆä»½ç»“æœæ˜¯ä»`0`å¼€å§‹çš„ï¼Œè¿™è¯´æ˜`0`ä»£è¡¨1æœˆ
- è·å–æ˜ŸæœŸ`getDay`ä¹Ÿæ˜¯ä»`0`å¼€å§‹çš„ï¼Œä½†`0`ä»£è¡¨æ˜ŸæœŸå¤©
- è·å–ä¸€æœˆä¸­çš„æŸå¤©ä½¿ç”¨`getDate`ï¼Œè¯¥æ–¹æ³•çš„æ–¹æ³•åä¸å¤Ÿç›´è§‚

3.`Date`å¯¹è±¡ä¼šè‡ªåŠ¨æ ¡å‡†è¾“å…¥å€¼ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥è¾“å…¥è¶…å‡ºèŒƒå›´çš„å€¼ï¼Œå®ƒä¼šè‡ªåŠ¨æ¨å¯¼å‡ºæ­£ç¡®çš„æ—¥æœŸ
```
let date = new Date(2013, 0, 32) // Fri Feb 01 2013 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)

date.setDate(date.getDate() + 29)

console.log(date) // Sat Mar 02 2013 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

4.æ€§èƒ½é—®é¢˜ï¼Œè™½ç„¶`Date`æä¾›çš„å¤§é‡çš„`API`ï¼Œä¹Ÿèƒ½å¤Ÿæ™ºèƒ½çš„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å’Œæ•°å­—ï¼Œä½†æˆ‘ä»¬åœ¨ä¸€äº›é«˜æ€§èƒ½åœºæ™¯è¦æ±‚ä½¿ç”¨æ›´åŠ é«˜æ•ˆçš„æ–¹æ³•

è·å–å½“å‰æ—¥æœŸçš„æ¯«ç§’æ•°æœ‰å‡ ç§æ–¹æ³•
```
Date.now() // æ€§èƒ½æœ€å¥½ï¼Œä¸ç”¨åˆ›å»ºDateå¯¹è±¡

+new Date() // æ€§èƒ½æœ€å·®ï¼Œéœ€è¦ç±»å‹è½¬åŒ–

new Date().getTime() // ä¸­ç­‰
```

5.`Date.parse`æ–¹æ³•è¢«ç”¨æ¥è§£æå­—ç¬¦ä¸²ï¼Œå®ƒæ¥æ”¶`YYYY-MM-DDTHH:mm:ss.sssZ`çš„æ ¼å¼ï¼Œ`T`æ˜¯åˆ†éš”ç¬¦ï¼Œ`Z`ä¸ºå¯é€‰å­—ç¬¦ï¼Œä»£è¡¨æ—¶åŒº`UTC+0`ï¼Œè¿”å›çš„æ˜¯æ¯«ç§’æ•°
```
let date = Date.parse('2012-01-26T13:51:50:471-07:00') // 1327611110471
```

## è°ƒåº¦

1.JSå®ç°è°ƒåº¦åœ¨æµè§ˆå™¨ç«¯æœ‰ä¸¤ä¸ªæ–¹æ³•`setTimeout`å’Œ`setInterval`ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•æ¥æ”¶çš„å‚æ•°ä¸€è‡´ï¼Œå…¶ä¸­ä»ç¬¬ä¸‰ä¸ªå‚æ•°å¼€å§‹ï¼Œè¡¨ç¤ºä¼ å…¥è°ƒåº¦å‡½æ•°çš„å‚æ•°
```
function fn (...rest) {
  console.log(rest)
}

setTimeout(fn, 1000, '1', 2, false) // ä¸€ç§’åè¾“å‡º: ["1", 2, false]
setInterval(fn, 1000, '1', 2, false) // æ¯éš”ä¸€ç§’è¾“å‡º: ["1", 2, false]
```

2.å¦‚æœè¦å®ç°å‘¨æœŸæ€§è°ƒåº¦ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨åµŒå¥—çš„`setTimeout`ï¼Œå¦ä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨`setInterval`
```
let timer = setTimeout(function fn (a) {
  console.log(a)

  timer = setTimeout(fn, 1000, 1)
}, 1000, 1)

let timer = setInterval(function () {
  console.log('haha')
}, 1000)
```

è¿™ä¸¤è€…çœ‹èµ·æ¥æ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼Œä½†å®é™…ä¸Šå‰è€…æ˜¯ç­‰åˆ°æ‰§è¡Œå®Œä¸Šä¸€ä¸ªå›è°ƒåæ‰é‡æ–°è®¾ç½®ä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œå®ƒç¡®ä¿äº†ä¸‹ä¸€æ¬¡ä¹‹å¿ƒå›è°ƒæ—¶æ—¶é—´é—´éš”è‚¯å®šå¤§äºè®¾ç½®çš„æ—¶é—´`delay`ï¼›è€Œåè€…ä¼šåœ¨å›è°ƒæ‰§è¡Œæ—¶å°±å¼€å§‹è®¡æ•°ï¼Œè¿™è¯´æ˜å®ƒåŒ…å«äº†å›è°ƒçš„æ‰§è¡Œæ—¶é—´ï¼Œæ‰€ä»¥æœ‰å¯èƒ½æ‰§è¡Œçš„é—´éš”æ¯”è®¾ç½®çš„å»¶è¿Ÿè¦çŸ­

![å®šæ—¶å™¨çš„åŒºåˆ«1](./../img/basic_4.png)
![å®šæ—¶å™¨çš„åŒºåˆ«2](./../img/basic_5.png)

3.æµè§ˆå™¨çš„ä»»åŠ¡æ‰§è¡Œæµç¨‹æ˜¯å…ˆæ‰§è¡Œä¸»çº¿ç¨‹ä»£ç ï¼Œç„¶åæ£€æŸ¥å›è°ƒï¼Œæ‰€ä»¥å³ä½¿è®¾ç½®å»¶æ—¶ä¸º`0`ï¼Œå®šæ—¶å™¨å›è°ƒä¹Ÿä¸ä¼šé©¬ä¸Šæ‰§è¡Œï¼Œä½†åœ¨æµè§ˆå™¨ä¸­è¿˜æœ‰ä¸€ä¸ªè§„å®šï¼Œå°±æ˜¯é’ˆå¯¹åµŒå¥—å®šæ—¶å™¨ï¼Œè¶…è¿‡5å±‚åï¼Œå®šæ—¶å™¨çš„å»¶æ—¶ä¼šè¢«å¼ºåˆ¶é™åˆ¶å¤§äº`4ms`

![åµŒå¥—å®šæ—¶å™¨çš„é™åˆ¶](./../img/basic_6.png)

å¯ä»¥çœ‹åˆ°ï¼Œå³ä½¿è®¾ç½®ä¸º`0`ï¼Œå‰é¢å‡ æ¬¡çš„æ—¶é—´ä¹Ÿä¸æ˜¯ç›¸åŒçš„ï¼Œä¼šæœ‰`2ms-3ms`çš„è¯¯å·®ï¼Œè€Œä¸”ä»ç¬¬å››æ¬¡å¼€å§‹ï¼Œè¯¯å·®ä¼šå¤§äº`4ms`

## æŸ¯é‡ŒåŒ–

å‡½æ•°æŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§é«˜é˜¶æŠ€å·§ï¼Œå®ƒä¸æ‰§è¡Œå‡½æ•°ï¼Œè€Œæ˜¯å¤„ç†å‡½æ•°ï¼ŒæŠŠå¤šå‚æ•°å‡½æ•°è½¬åŒ–æˆæ›´å°‘å‚æ•°çš„åŒ…è£…å‡½æ•°ï¼Œä»¥å›ºåŒ–éƒ¨åˆ†å‚æ•°ï¼Œç®€åŒ–è°ƒç”¨æ—¶ä¼ å…¥ç›¸åŒå‚æ•°å€¼çš„é—®é¢˜

```
function curry (func) {
  return function curried (...args) {
    if (args.length >= func.length) {
      return func.apply(this, args)
    } else {
      return function (...args2) {
        return curried.apply(this, args.concat(args2))
      }
    }
  }
}

function sum (a, b, c) {
  return a + b + c
}

let curriedSum = curry(sum)

curriedSum(1, 2, 3) // still work, 6

let f1 = curriedSum(1)
let f2 = f1(2)
f2(3) // 6
```

## ç±»

1.`ES6`çš„ç±»è¯­æ³•å¹¶æ²¡æœ‰é‡æ–°å®ç°åƒ`Java`ä¸­çš„ç±»è¿™ç§ç»“æ„ï¼Œè€Œæ˜¯åŸºäºåŸå‹ç»§æ‰¿åŒ…è£…çš„è¯­æ³•ç³–ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç±»çš„è¯­æ³•ï¼Œç„¶åæ‰“å°å…¶ç±»å‹ï¼Œå‘ç°ç±»æœ¬è´¨ä¸Šæ˜¯å‡½æ•°å¯¹è±¡
```
class Parent {
  constructor (name) {
    this.name = name
  }

  sayHi() { alert(this.name); }
}

typeof Parent // 'function'
```

ç»§ç»­éªŒè¯ï¼Œæˆ‘ä»¬å¯ä»¥çŒœæƒ³ç±»å®é™…ä¸Šåœ¨`new`æ—¶ä¼šåˆ›å»ºä¸€ä¸ªåŒåå‡½æ•°ï¼Œè¯¥å‡½æ•°å†…éƒ¨çš„ä»£ç æ¥è‡ªç±»å®šä¹‰çš„`constructor`æ–¹æ³•ï¼Œç„¶åæŠŠå‡½æ•°è‡ªèº«æŒ‡å‘è¿™ä¸ªå‡½æ•°çš„`prototype`ä¸Šçš„`constructor`å±æ€§ï¼Œæœ€åå¾€å‡½æ•°çš„`prototype`ä¸Šæ·»åŠ ç±»ä¸­å®šä¹‰çš„å…¶ä»–æ–¹æ³•
```
Parent === Parent.prototype.constructor

Parent.prototype.sayHi.apply({ name: 'liu' }) // 'liu'
```

2.æ›´ä¸¥è°¨ä¸€ç‚¹ï¼Œç±»ä¸åªæ˜¯è¯­æ³•ç³–ï¼Œå®ƒå’Œæˆ‘ä»¬åŸæ¥çš„å†™æ³•æœ‰å‡ ä¸ªåŒºåˆ«

- ç±»ä¸å…è®¸ä½¿ç”¨é™¤`new`ä¹‹å¤–çš„å…¶ä»–æ–¹å¼è°ƒç”¨
- ç±»ä¸­çš„æ–¹æ³•è¢«æŒ‚åœ¨å…¶`prototype`ä¸Šæ˜¯ä¸å¯æšä¸¾çš„
- ä½¿ç”¨ç±»åˆ›å»ºçš„å‡½æ•°å…·æœ‰ç‰¹æ®Šçš„å†…éƒ¨å±æ€§æ ‡è®°`[[FunctionKind]]:"classConstructor"`
- æˆ‘ä»¬åœ¨æ‰“å°ç±»æ—¶ï¼Œç»“æœä¸­å¸¦æœ‰`class`å‰ç¼€
- ç±»å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼æ‰§è¡Œä»£ç 

3.ç±»å­—æ®µæä¾›äº†ä¸€ç§è§£å†³`thisä¸¢å¤±`æ›´åŠ ä¼˜é›…çš„æ–¹å¼ï¼Œä½†æ³¨æ„å…¼å®¹æ€§
```
class Parent {
  constructor (name) {
    this.name = name
  }

  sayHi = () => {
    console.log(this.name);
  }

  static print () {
    console.log('print')
  }
}

let p = new Parent('liu')

setTimeout(p.sayHi, 1000) // ä¸€ç§’åè¾“å‡º'liu'
```

4.ç±»çš„ç»§æ‰¿ä½¿ç”¨`extends`ï¼Œæ ¼å¼å¦‚ä¸‹
```
class Child extends Parent {
  // code
}
```

`extends`å†…éƒ¨çš„å®ç°æ˜¯ä¿®æ”¹å‡½æ•°åŸå‹çš„æŒ‡å‘ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ä¿®æ”¹ä¸º`Child.prototype = Parent.prototype`ï¼Œæ¥ç€ä¿®æ”¹å‡½æ•°çš„`__proto__`ï¼Œ`Child.__proto__ = Parent`ï¼Œæˆ‘ä»¬éªŒè¯ä¸€ä¸‹

![ç±»çš„ç»§æ‰¿](./../img/basic_7.png)

5.å¦‚æœè¦åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™åŸºç±»çš„æ–¹æ³•å’Œæ„é€ å™¨ï¼Œå¯ä»¥ä½¿ç”¨`super`ï¼Œåœ¨æ„é€ å™¨ä¸­`super`æŒ‡ä»£åŸºç±»æ„é€ å‡½æ•°
```
class Child extends Parent {
  constructor () {
    super(name) // è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°
  }
}
```

**å¦‚æœä¸å…ˆè°ƒç”¨`super`æ–¹æ³•ï¼Œæˆ‘ä»¬æ— æ³•ä½¿ç”¨`this`å¹¶èµ‹å€¼æ´¾ç”Ÿç±»çš„å±æ€§**ï¼Œè¿™æ˜¯å› ä¸ºåœ¨å†…éƒ¨ï¼Œå¯¹äºæ™®é€šå‡½æ•°ï¼Œ`new`æ“ä½œç¬¦ä¼šåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¹¶æŠŠå®ƒèµ‹å€¼ç»™`this`ï¼Œè€Œåœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å…·æœ‰ç‰¹æ®Šçš„å†…éƒ¨å±æ€§`[[ConstructorKind]]:"derived"`ï¼Œå®ƒæ”¹å˜äº†`new`çš„è¡Œä¸ºï¼Œä½¿å¾—æ´¾ç”Ÿç±»çš„æ„é€ å™¨ä¸ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œè€Œæ˜¯æŒ‡æœ›åŸºç±»çš„æ„é€ å™¨å»åˆ›å»ºè¿™ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æœåœ¨`super`ä¹‹å‰è°ƒç”¨`this`ï¼Œæ— æ³•æ‰¾åˆ°æ­£ç¡®çš„å¯¹è±¡ï¼Œäº§ç”ŸæŠ¥é”™

åœ¨ç±»çš„æ–¹æ³•ä¸­ï¼Œè°ƒç”¨`super`æŒ‡å‘åŸºç±»çš„åŸå‹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡`super.sayHi`çš„æ ¼å¼å¼•ç”¨åŸºç±»æ–¹æ³•ï¼›åœ¨é™æ€æ–¹æ³•ä¸­ï¼Œ`super`çš„æŒ‡å‘åˆå˜æˆäº†åŸºç±»æœ¬èº«ï¼Œè¦æ³¨æ„è¿™ä¸ªåŒºåˆ«
```
class Child extends Parent {
  constructor (name) {
    super(name)
  }

  sayHi () {
    super.sayHi()
  }

  static print () {
    super.print()
  }
}
```

![ç±»çš„ç»§æ‰¿2](./../img/basic_8.png)

6.ç±»å†…éƒ¨çš„`super`æœºåˆ¶æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Œæ˜¯å‘ä¸‹é¢è¿™æ ·å—
```
let a = {
  name: 'a',

  print () {
    console.log(this.name)
  }
}

let b = {
  name: 'b',
  __proto__: a,
  
  print () {
    this.__proto__.print.apply(this)
  }
}
```

æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼Œå‘ç°ç¬¦åˆçš„å¾ˆå¥½
```
b.print() // 'b'
```

ä½†å¦‚æœæˆ‘ä»¬å†åŠ ä¸€å±‚
```
let c = {
  name: 'c',
  __proto__: b,
  
  print () {
    this.__proto__.print.apply(this)
  }
}
```

æ‰§è¡Œï¼Œå‘ç°æŠ¥é”™äº†

![ç±»çš„ç»§æ‰¿3](./../img/basic_9.png)

è¿™é‡Œçš„é—®é¢˜å‘ç”Ÿåœ¨`c`å¯¹è±¡çš„`print`è°ƒç”¨æ—¶ï¼ŒæŠŠ`this`ç»‘å®šä¸º`c`å¯¹è±¡æœ¬èº«äº†ï¼Œå³ä½¿é€šè¿‡`this.__proto__.print`æ‰¾åˆ°`b`å¯¹è±¡ä¸­çš„`print`æ–¹æ³•ï¼Œä½†æ‰§è¡Œæ—¶ï¼Œ`this`ä»ç„¶æ˜¯`c`ï¼Œæ‰€ä»¥`print`æ–¹æ³•çš„æ‰§è¡Œé™·å…¥äº†æ— é™é€’å½’

çœŸæ­£çš„JSçš„å®ç°æ˜¯ç»™ç±»ä¸­çš„æ–¹æ³•æŒ‡å®šäº†ä¸€ä¸ª`[[HomeObject]]`å±æ€§ï¼Œå®ƒæ°¸è¿œæŒ‡å‘è¯¥æ–¹æ³•å®šä¹‰æ—¶æ‰€å±çš„å¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦ä½¿ç”¨`this`
```
let a = {
  name: 'a',

  print () {
    console.log(this.name)
  }
}

let b = {
  name: 'b',
  __proto__: a,
  
  print () {
    super.print()
  }
}

let c = {
  name: 'c',
  __proto__: b,
  
  print () {
    super.print()
  }
}

c.print() // 'c', work well
```

`super`æœ‰å…¶ä½¿ç”¨é™åˆ¶ï¼Œç”±äºå®ƒç¡¬æ€§è§„å®šäº†å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬èµ‹å€¼è¯¥æ–¹æ³•ç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œå®ƒä»ç„¶ä¼šä½¿ç”¨å®šä¹‰å®ƒçš„å¯¹è±¡ä¸­çš„å±æ€§
```
let animal = {
  sayHi() {
    console.log(`I'm an animal`);
  }
};

// rabbit ç»§æ‰¿è‡ª animal
let rabbit = {
  __proto__: animal,
  sayHi() {
    super.sayHi();
  }
};

let plant = {
  sayHi() {
    console.log("I'm a plant");
  }
};

// tree ç»§æ‰¿è‡ª plant
let tree = {
  __proto__: plant,
  sayHi: rabbit.sayHi // (*)
};

tree.sayHi();  // I'm an animal (?!?)
```

å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ˜¯ä¸å¯¹çš„ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³å¤ç”¨ä¸€ä¸‹`rabbit`å¯¹è±¡çš„æ–¹æ³•ä»£ç ï¼Œå´æ‰§è¡Œäº†`animal`å¯¹è±¡çš„æ–¹æ³•

**æ­¤å¤–ï¼Œä½¿ç”¨`super`å¿…é¡»æ˜¯æ–¹æ³•è€Œä¸æ˜¯å‡½æ•°å±æ€§ï¼ŒJSä¸ä¼šä¸ºå‡½æ•°å±æ€§æŒ‡å®š`[[HomeObject]]`**